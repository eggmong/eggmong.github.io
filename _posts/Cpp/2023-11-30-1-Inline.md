---
title:  "ì¸ë¼ì¸ í•¨ìˆ˜ (Inline)"

categories:
  - Cpp
tags:
  - [Cpp, C++, inline]

toc: true
toc_sticky: true
 
date: 2023-11-30
last_modified_at: 2023-11-30
---

<br>

> ğŸ¤¯ ì–¸ë¦¬ì–¼ì„ í•˜ê¸° ìœ„í•´ C++ ê¸°ì–µ ë˜ì‚´ë¦¬ê¸° í”„ë¡œì íŠ¸

# ì¸ë¼ì¸ í•¨ìˆ˜ (Inline)

ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ì„±ëŠ¥ì„ ë‘˜ ë‹¤ ì¡ì€ ê²ƒ.  

- í•¨ìˆ˜ëŠ” ë©”ëª¨ë¦¬ ì•ˆì— 'í• ë‹¹'ë˜ì–´ ìˆìŒ
- í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ í•„ìš”í•œ ë‹¨ê³„ë“¤
  1. ë³€ìˆ˜ë“¤ì„ ìŠ¤íƒì— push
  2. í•¨ìˆ˜ ì£¼ì†Œë¡œ ì í”„
  3. í•¨ìˆ˜ ì‹¤í–‰
  4. í˜¸ì¶œì í•¨ìˆ˜ë¡œ ë‹¤ì‹œ ì í”„
  5. 1ë²ˆì—ì„œ ë„£ì–´ì¤¬ë˜ ë³€ìˆ˜ë“¤ì„ pop
- ê·¸ë˜ì„œ ì¢€ ë” ëŠë¦¬ë‹¤!
- ê°€ë…ì„±ì„ ìœ„í•´ í•¨ìˆ˜ë¥¼ ì“°ë©´ ì¢‹ì€ ê²½ìš°ê°€ ìˆê¸´ í•¨. í•¨ìˆ˜ í˜¸ì¶œì— í•„ìš”í•œ ì˜¤ë²„í—¤ë“œë¥¼ í•´ê²°í•  ë°©ë²•.

```cpp
// ì¸ë¼ì¸ ë©¤ë²„í•¨ìˆ˜
// Animal.h
class Animal
{
    public:
        Animal(int age);
        inline int GetAge() const;
    private:
        int mAge;
};

int Animal::GetAge() const
{
    return mAge;
}

// main.cpp
Cat* myCat = new Cat(2, "Coco");
int age = myCat->GetAge();          // <- ìœ„ì—ì„œ inlineìœ¼ë¡œ ì„ ì–¸í•´ì¤€ í•¨ìˆ˜
                                    // ì»´íŒŒì¼ í•˜ë©´ myCat.mAge; ë¡œ ë°”ê¿” ì½ì–´ì„œ ëŒ€ì…í•´ì¤€ë‹¤.
                                    // ë‹¨ ì•¡ì„¸ìŠ¤ ê¶Œí•œì´ ìˆëŠ”ì§€ ì²´í¬ëŠ” í•¨ (public ì´ë¼ë˜ê°€)

// ë©¤ë²„ ì•„ë‹Œ ì¸ë¼ì¸ í•¨ìˆ˜
// Math.h
inline int Square(int number)
{
    return number * number;
}
```

> ğŸ’¡ ë§¤í¬ë¡œ(MACRO)ì™€ ë§¤ìš° ë¹„ìŠ·í•œ ê°œë…
> - ë§¤í¬ë¡œëŠ” ë””ë²„ê¹… í•˜ê¸°ê°€ í˜ë“¦
>   - ì½œìŠ¤íƒì— í•¨ìˆ˜ ì´ë¦„ì´ ì•ˆë³´ì„
>   - ì¤‘ë‹¨ì ë„ ì„¤ì • ë¶ˆê°€ëŠ¥
> - ë§¤í¬ë¡œëŠ” ë²”ìœ„ê°€ ì—†ìŒ. global.
> ë§¤í¬ë¡œë¥¼ ì“¸ ì´ìœ ê°€ ìˆì§€ ì•ŠëŠ” í•œ ì¸ë¼ì¸ í•¨ìˆ˜ë¥¼ ì“°ì

```cpp
// ë§¤í¬ë¡œ ì˜ˆì‹œ
#define SQUARE(x) (x)*(x)
// defineì€ ì»´íŒŒì¼ í•˜ê¸° ì „ì— ì „ì²˜ë¦¬ê¸°(preprocessor)ì—ì„œ ì²˜ë¦¬í•´ì¤¬ì—ˆìŒ

int main()
{
    int result = SQUARE(3); => (3)*(3);
}
```

## 1. ë™ì‘ ì›ë¦¬

```cpp
inline int Square(int number)
{
    return number * number;
}

int main()
{
    int number = 2;
    int result = Square(number);
    // ìœ„ ì½”ë“œë¥¼ ì»´íŒŒì¼ëŸ¬ê°€ ë°‘ ì½”ë“œë¡œ ë°”ê¿ˆ
    int result = number * number;
    return 0;
}
```

## 2. ì‚¬ìš©ì‹œ ì£¼ì˜ì 

- inline í‚¤ì›Œë“œëŠ” íŒíŠ¸ì¼ ë¿
  - ì‹¤ì œë¡œëŠ” inline ì•ˆë  ìˆ˜ë„ ìˆìŒ
  - ì»´íŒŒì¼ëŸ¬ê°€ ìê¸° ë§˜ëŒ€ë¡œ ì•„ë¬´ í•¨ìˆ˜ë‚˜ inline í•  ìˆ˜ë„ ìˆìŒ;;
    - ê·¸ë˜ì„œ ì–´ë–¤ ì»´íŒŒì¼ëŸ¬ì—ì„  __forceinline ì„ ë¶™ì—¬ì„œ inline ì„ ê°•ìš”í•  ìˆœ ìˆëŠ”ë°, ì•ˆë  ìˆ˜ë„ ìˆìŒ;;
- <b>ì¸ë¼ì¸ í•¨ìˆ˜ êµ¬í˜„ì´ í—¤ë” íŒŒì¼ì— ìœ„ì¹˜í•´ì•¼ í•¨</b>
  - ë³µë¶™ì„ í•˜ë ¤ë©´ ì»´íŒŒì¼ëŸ¬ê°€ ê·¸ êµ¬í˜„ì²´ë¥¼ ë³¼ ìˆ˜ ìˆì–´ì•¼ í•´ì„œ
  - ê° cpp íŒŒì¼ì€ ë”°ë¡œ ì»´íŒŒì¼ ë¨.
  - ë”°ë¼ì„œ b.hë¥¼ ì¸í´ë£¨ë“œ í•˜ëŠ” a.cpp íŒŒì¼ì„ ì»´íŒŒì¼ í•  ë•Œ, ì»´íŒŒì¼ëŸ¬ëŠ” b.cppì— ë­ê°€ ë“¤ì–´ìˆëŠ”ì§€ ëª¨ë¦„!
- ê°„ë‹¨í•œ í•¨ìˆ˜ì— ì í•©
  - getter, setter
    - `inline int GetX() const;`
    - `inline void SetX(int x);`
- ì‹¤í–‰íŒŒì¼ì˜ í¬ê¸°ê°€ ì¦ê°€í•˜ê¸° ì‰¬ì›€
  - ë™ì¼í•œ ì½”ë“œë¥¼ ì—¬ëŸ¬ ë²ˆ ë³µë¶™í•˜ê²Œ ë˜ëŠ”ê±°ë‹ˆê¹Œ
  - ë‚¨ìš©í•˜ì§€ ë§ ê²ƒ
  - ì‹¤í–‰íŒŒì¼ì´ ì‘ì„ ìˆ˜ë¡ CPU ìºì‹œí•˜ê³  ì˜ ì‘ë™ -> ì†ë„ê°€ ë¹¨ë¼ì§€ëŠ” ì´ìœ 

## 3. ì‚¬ìš©ë²•

- ë©¤ë²„ ì•„ë‹Œ ì¸ë¼ì¸ í•¨ìˆ˜
  ```cpp
  inline <return-type> <function-name> (<argument-list>)
  {
    // ...
  };
  ```
- ì¸ë¼ì¸ ë©¤ë²„ í•¨ìˆ˜
  ```cpp
  // í—¤ë” ì„ ì–¸ë¶€ì— ì´ë¯¸ inline ì¨ë†¨ê³  í—¤ë”ì— êµ¬í˜„í•˜ë¯€ë¡œ êµ³ì´ inline ì•ˆë¶™ì—¬ë„ ëœë‹¤
  // ê·¸ì¹˜ë§Œ ê°€ë…ì„±ì„ ìœ„í•´...
  inline <return-type> <class-name>::<function-name> (<argument-list>)
  {
    // ...
  }
  ```

