---
title:  "í…œí”Œë¦¿ (Template) í”„ë¡œê·¸ë˜ë°"

categories:
  - Cpp
tags:
  - [Cpp, C++, Template]

toc: true
toc_sticky: true
 
date: 2023-12-04
last_modified_at: 2023-12-04
---

<br>

> ğŸ¤¯ ì–¸ë¦¬ì–¼ì„ í•˜ê¸° ìœ„í•´ C++ ê¸°ì–µ ë˜ì‚´ë¦¬ê¸° í”„ë¡œì íŠ¸

# í…œí”Œë¦¿ (Template) í”„ë¡œê·¸ë˜ë°

- í…œí”Œë¦¿ì´ë€?
  - javaì™€ c#ì—ì„œì˜ ì œë„¤ë¦­(generic) ë©”ì„œë“œ/í´ë˜ìŠ¤ì™€ ë¹„ìŠ· (T)
  - STL ì»¨í…Œì´ë„ˆ ë˜í•œ í…œí”Œë¦¿
  - ë•ë¶„ì— ì½”ë“œë¥¼ ìë£Œí˜•ë§ˆë‹¤ ì¤‘ë³µìœ¼ë¡œ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ë¨

## 1. í•¨ìˆ˜ í…œí”Œë¦¿

```cpp
// Main.cpp
#include <vector>

int main()
{
    std::vector<int> scores;            // vector<int> ìš”ê²Œ ë°”ë¡œ í…œí”Œë¦¿ í”„ë¡œê·¸ë˜ë°
                                        // ì»´íŒŒì¼ì‹œì— ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì½”ë“œë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒ
    scores.push_back(10);
    scores.push_back(50);

    return 0;
}
```

### 1-1. ë‘ ì •ìˆ˜ ë”í•˜ê¸°

```cpp
// MyMath.h
template <typename T>           // ë˜ëŠ” template <class T>
T Add(T a, T b)
{
    return a + b;
}

// Main.cpp
#include "MyMath.h"
int main()
{
    std::cout << Add<int>(3, 10) << std::endl;
    std::cout << Add<float>(3.14f, 10.14f) << std::endl;
    
    return 0;
}
```

- í•¨ìˆ˜ í…œí”Œë¦¿ì„ í˜¸ì¶œí•  ë• í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ë¥¼ ìƒëµí•  ìˆ˜ ìˆìŒ
  ```cpp
  Add<int>(3, 10);
  Add(3, 10);                   // intë¼ê³  ì¶”ì¸¡ ê°€ëŠ¥í•´ì„œ í•¨ìˆ˜ ëˆë‹¤
  ```

### 1-2. typename vs class

- ì‹¤ì§ˆì ì¸ ì°¨ì´ëŠ” ì—†ìŒ
- ê·¸ëƒ¥ typenameì„ ì“°ì

### 1-3. í…œí”Œë¦¿ì€ ì–´ë–»ê²Œ ì‘ë™í• ê¹Œ?

- í…œí”Œë¦¿ì„ ì¸ìŠ¤í„´ìŠ¤í™” í•  ë•Œ ë§ˆë‹¤ ì»´íŒŒì¼ëŸ¬ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì½”ë“œ ìƒì„±
  - Tì— ë§¤ê°œë³€ìˆ˜ë¥¼ ë„£ì–´ì„œ ì“°ê¸° ì‹œì‘í•  ë•Œ ë§ˆë‹¤.
- í…œí”Œë¦¿ì— ë„£ëŠ” ìë£Œí˜• ê°€ì§“ìˆ˜ì— ë¹„ë¡€í•´ì„œ exe íŒŒì¼ í¬ê¸° ì¦ê°€
- ì»´íŒŒì¼ ë„ì¤‘ì— ë‹¤í˜•ì„±ì„ ë¶€ì—¬í•  ìˆ˜ ìˆìŒ

```cpp
// MyMath.h
template <typename T>
T Add(T a, T b)
{
    return a + b;
}

// Main.cpp
#include "MyMath.h"

int Add(int a, int b)
{
    // ì˜ˆì‹œ í•¨ìˆ˜
    // ì»´íŒŒì¼ ë„ì¤‘ì— ì»´íŒŒì¼ëŸ¬ê°€ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œ
    // ê·¸ë˜ì„œ ë°˜í™˜í˜•ì´ int
    return a + b;
}

float Add(float a, float b)
{
    // ì˜ˆì‹œ í•¨ìˆ˜
    // ì»´íŒŒì¼ ë„ì¤‘ì— ì»´íŒŒì¼ëŸ¬ê°€ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œ
    // ê·¸ë˜ì„œ ë°˜í™˜í˜•ì´ float
    return a + b;
}

int main()
{
    int resultInt = Add<int>(3, 10);            // í…œí”Œë¦¿ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ, ì»´íŒŒì¼ëŸ¬ê°€ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤ëŠ” ê²ƒ
    float resultFloat = Add<float>(3.14f, 10.14f);
}
```

## 2. í´ë˜ìŠ¤ í…œí”Œë¦¿

```cpp
// MyArray.h
#pragma once
template<typename T>                // í´ë˜ìŠ¤ í…œí”Œë¦¿ì´ì•¼~ Tì— ë”°ë¼ ë°˜í™˜í˜• ë°”ë€Œì–´~
class MyArray
{
    public:
        bool Add(T data);           // T dataë¥¼ ë„£ì„ê±°ë‹¤
        MyArray();
    private:
        enum { MAX = 3 };
        int mSize;
        T mArray[MAX];              // Tí˜•ì˜ ë°ì´í„° 3ê°œë§Œí¼ ë°°ì—´ ë§Œë“¤ì
};

// MyArray.cpp
#include "MyArray.h"

template<typename T>
bool MyArray<T>::Add(T data)
{
    if (mSize >= MAX)
    {
        return false;
    }
    mArray[mSize++] = data;
    return true;
}

template<typename T>
MyArray<T>::MyArray()
    : mSize(0)                      // ìƒì„±ì. í…œí”Œë¦¿í™” ëœ MyArray í´ë˜ìŠ¤.
{

}

// Main.cpp
#include "MyArray.h"
int main()
{
    MyArray<int> scores;
    
    scores.Add(10);
    scores.Add(20);
    scores.Add(30);
    scores.Add(40);

    return 0;
}
```