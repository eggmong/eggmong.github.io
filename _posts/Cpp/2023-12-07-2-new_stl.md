---
title:  "ìƒˆë¡œ ì¶”ê°€ëœ STL"

categories:
  - Cpp
tags:
  - [Cpp, C++, STL, unordered_map, array]

toc: true
toc_sticky: true
 
date: 2023-12-07
last_modified_at: 2023-12-07
---

<br>

> ğŸ¤¯ ì–¸ë¦¬ì–¼ì„ í•˜ê¸° ìœ„í•´ C++ ê¸°ì–µ ë˜ì‚´ë¦¬ê¸° í”„ë¡œì íŠ¸

# ìƒˆë¡œ ì¶”ê°€ëœ STL

- std::unordered_map (ê·¸ë¦¬ê³  unordered_multimap)
- std::unordered_set (ê·¸ë¦¬ê³  unordered_multiset)
- std::array

ê¸°ì¡´ì˜ map, setì€ ì´ì§„ íŠ¸ë¦¬ ê¸°ë°˜ ì»¨í…Œì´ë„ˆ ì˜€ë‹¤. O(log N)  
ì •ë ¬ì„ í•´ì•¼ í–ˆê¸° ë•Œë¬¸ì—.  
ê·¸ë ‡ì§€ë§Œ ì •ë ¬ í•„ìš” ì—†ê³  ì ‘ê·¼ì´ ë¹ ë¥¸(O(1)) í•´ì‹œë§µ, í•´ì‹œì…‹ì˜ ê¸°ëŠ¥ì„ í•˜ëŠ” ê²Œ í•„ìš”í–ˆë‹¤.  
ê·¸ë˜ì„œ ìƒê²¨ë‚¬ë‹¤!  

## 1. ì •ë ¬ ì•ˆëœ ë§µ (unordered_map) + ì…‹(unordered_set)

- std::mapì€ ìë™ìœ¼ë¡œ ì •ë ¬ë˜ëŠ” ì»¨í…Œì´ë„ˆ
- ê·¸ë˜ì„œ ìš”ì†Œ ì‚½ì…/ì œê±°ê°€ ë¹ˆë²ˆí•  ê²½ìš° ì„±ëŠ¥ ì €í•˜ ì´ìŠˆ ìš°ë ¤ê°€ ìˆìŒ

> ğŸ’¡ ê·¸ë˜ì„œ unordered_map ì´ ìƒê²¨ë‚˜ê²Œ ë˜ì—ˆë‹¤!

- í‚¤ì™€ ê°’ì˜ ìŒ(pair)ë“¤ì„ ì €ì¥
- í‚¤ëŠ” ì¤‘ë³µ ë¶ˆê°€
- ìë™ìœ¼ë¡œ <b>ì •ë ¬ë˜ì§€ ì•ŠëŠ”</b> ì»¨í…Œì´ë„ˆ
  - ìš”ì†ŒëŠ” í•´ì‰¬ í•¨ìˆ˜ê°€ ìƒì„±í•˜ëŠ” ìƒ‰ì¸ (index) ê¸°ë°˜ì˜ ë²„í‚·(bucket)ìœ¼ë¡œ êµ¬ì„±ë¨
  - í•´ì‰¬ë§µ(hashmap)ì´ë¼ê³ ë„ í•¨
  - (O(1)) ì˜ ì†ë„ëŠ” ì¦‰ ìš”ì†Œê°€ ëª‡ê°œê°€ ìˆë˜ ê°„ì— í•œë²ˆì— ì°¾ì•„ì˜¬ ìˆ˜ ìˆëŠ” ì†ë„ë¥¼ ëœ»í•¨
  - (O(N)) ì˜ ì†ë„ëŠ” Nê°œì˜ ìš”ì†Œ ì¤‘ ì–´ë–¤ ê°’ì„ ì°¾ìœ¼ë ¤ í•  ë•Œ forë¬¸ í•œë²ˆ ëŒë ¤ì•¼ í•œë‹¤~ ì´ê²Œ O(N).


ì •ë ¬ ì•ˆ ëœ ì…‹(set) ë„ ìˆìŒìš”.  
ì •ë ¬ ì•ˆ ëœ ë§µì´ë‘ ê±°ì˜ ê°™ë‹¤.  

## 2. ì–´ë ˆì´ (array)

- std::array
- ì „ì— ë§Œë“¤ì—ˆë˜ [FixedVector í…œí”Œë¦¿ í´ë˜ìŠ¤(ë§í¬)](https://eggmong.github.io/cpp/2-Template/#4-%ED%81%B4%EB%9E%98%EC%8A%A4-%ED%85%9C%ED%94%8C%EB%A6%BF-%ED%8A%B8%EB%A6%AD) ì™€ ë¹„ìŠ·.
- ê·¸ëŸ¬ë‚˜ <b>ìš”ì†Œ ìˆ˜</b>ë¥¼ ê¸°ì–µí•˜ì§€ ì•ŠìŒ
- ë‹¨ìˆœíˆ cìŠ¤íƒ€ì¼ ë°°ì—´ì„ ì¶”ìƒí™” í•œê±°ë‹¤~
- ì‚¬ì´ì¦ˆ ê²½ê³„ ì²´í¬ëŠ” í•´ì¤Œ.

### 2-1. FixedVector

```cpp
// FixedVector
FixedVector<int, 3> numbers;

numbers.Add(1);

std::cout << numbers.GetSize() << std::endl;
// í•˜ë‚˜ ë„£ì—ˆìœ¼ë¯€ë¡œ ë‹¹ì—°íˆ SizeëŠ” 1.

std::cout << numbers.GetCapacity() << std::endl;
// ìš©ëŸ‰ì´ ë³€í•˜ì§€ ì•ŠëŠ” FixedVector... 3ì§œë¦¬ë¡œ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ë‹¹ì—°íˆ 3.
```

### 2-2. std::array

```cpp
#include <array>
// ...

std::array<int, 3> numbers;

numbers[0] = 1;

std::cout << numbers.size() << std::endl;
// 3ì´ ì¶œë ¥ë¨. ì§€ê¸ˆ ì–´ë ˆì´ì— ëª‡ê°œë¥¼ ë„£ì—ˆëŠ”ì§€ ì¶”ì í•˜ì§€ ì•ŠëŠ”ë‹¤.
// ì²˜ìŒ ì„ ì–¸í•  ë•Œ 3ìœ¼ë¡œ ì„ ì–¸í•´ì„œ 3 ë‚˜ì˜´.
// FixedVectorì—ì„œ ì¸ë±ìŠ¤ 0ì— ëŒ€ì…í•œë‹¤ë©´, ì—ëŸ¬ê°€ ë‚  ê²ƒ. ë„£ì§€ë„ ì•Šì•˜ìœ¼ë‹ˆê¹Œ...
// ì¦‰, ì–´ë ˆì´ 3 ì„ ì–¸í•˜ëŠ” ìˆœê°„ 3ê°œ ì¡ì•„ì¤€ë‹¤ëŠ” ê±°ë‹¤.

std::cout << numbers.max_size() << std::endl;
// 3.

```

## 3. ë²”ìœ„ ê¸°ë°˜ for ë°˜ë³µë¬¸

ê¸°ì¡´ì˜ for ë°˜ë³µë¬¸ë“¤ì€...  
```cpp
int scores[3] = { 10, 20, 30 };

for (int i = 0; i < 3; ++i)
{
  std::cout << scores[i] << " " << std::endl;
}
```
ì´ë ‡ê²Œ ì¸ë±ìŠ¤ ì ‘ê·¼ì„ í•˜ê±°ë‚˜.  

```cpp
std::map<std::string, int> scoreMap;

scoreMap["Lulu"] = 10;
scoreMap["Coco"] = 50;
scoreMap["Mocha"] = 100;

for (auto it = scoreMap.begin(); it != scoreMap.end(); ++it)
{
  std::cout << it->first << ": " << it->second << std::endl;
}
```
ì´ë ‡ê²Œ ë°˜ë³µìë¡œ ì ‘ê·¼í•´ì™”ì—ˆìŒ.  

í•˜ì§€ë§Œ C#ì—ì„  foreachë¡œ ì¢€ ë” ê°„í¸í•˜ê²Œ ë°˜ë³µë¬¸ì„ ëŒ ìˆ˜ ìˆìŒ.  
ê·¸ê±¸ ë°°ì›Œì˜´.  


```cpp
int scores[3] = { 10, 20, 30 };

// ì²˜ìŒë¶€í„° ëê¹Œì§€ ê° ìš”ì†Œë³„ë¡œ scoreì— ëŒ€ì…í•˜ë©´ì„œ ë°˜ë³µì„ í•˜ë¼.
// ê°’ìœ¼ë¡œ ë³µì‚¬ëœë‹¤ëŠ” ê²ƒ ì°¸ê³ !
for (int score : scores)
{
  std::cout << score << " " << std::endl;
}
```

```cpp
std::map<std::string, int> scoreMap;

scoreMap["Lulu"] = 10;
scoreMap["Coco"] = 50;
scoreMap["Mocha"] = 100;

// &... ì°¸ì¡°í˜•ìœ¼ë¡œ ì½ì–´ì˜¨ë‹¤!
for (auto& score : scoreMap)
{
  std::cout << it->first << ": " << it->second << std::endl;
}
```

### 3-1. for_each()ëŠ” ì–´ë–¨ê¹Œ?

```cpp
int main()
{
  std::unordered_map<std::string, int> scores;

  scores["Lulu"] = 70;
  scores["Chris"] = 50;
  scores["Monica"] = 100;

  // ëŒë‹¤
  auto printElement = [](std::unordered_map<std::string, int>::value_type& item)
  {
    std::cout << item.first << ": " << item.second << std::endl;
  };

  for_each(scores.begin(), scores.end(), printElement);
  // ì²˜ìŒë¶€í„° ëê¹Œì§€ printElement í•¨ìˆ˜ ì‹¤í–‰í•´ì¤˜ë¼.

  return 0;
}
```

- C++03
- ì»¨í…Œì´ë„ˆì˜ ê° ìš”ì†Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ì•Œê³ ë¦¬ë“¬
- ë²”ìœ„ ê¸°ë°˜ forë§Œí¼ ê°€ë…ì„±ì´ ë†’ì§„ ì•Šë‹¤