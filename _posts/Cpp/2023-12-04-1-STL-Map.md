---
title:  "í‘œì¤€ í…œí”Œë¦¿ ë¼ì´ë¸ŒëŸ¬ë¦¬ (STL) 2, Map"

categories:
  - Cpp
tags:
  - [Cpp, C++, STL, Map]

toc: true
toc_sticky: true
 
date: 2023-12-04
last_modified_at: 2023-12-04
---

<br>

> ğŸ¤¯ ì–¸ë¦¬ì–¼ì„ í•˜ê¸° ìœ„í•´ C++ ê¸°ì–µ ë˜ì‚´ë¦¬ê¸° í”„ë¡œì íŠ¸

# í‘œì¤€ í…œí”Œë¦¿ ë¼ì´ë¸ŒëŸ¬ë¦¬ (STL) 2, Map

## 1. ë§µ (Map)

- í‚¤(key)ì™€ ê°’(value)ì˜ ìŒë“¤ì„ ì €ì¥
- í‚¤ëŠ” ì¤‘ë³µë  ìˆ˜ ì—†ìŒ
- C++ ë§µì€ ìë™ ì •ë ¬ë˜ëŠ” ì»¨í…Œì´ë„ˆ (í‚¤ ê¸°ì¤€)
- ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬(binary search tree) ê¸°ë°˜
  - ì˜¤ë¦„ì°¨ìˆœ

```cpp
#include <map>
int main()
{
    std::map<std::string, int> simpleScoreMap;

    simpleScoreMap.insert(std::pair<std::string, int>("Mocha", 100));

    simpleScoreMap["Mocha"] = 0;

    return 0;
}
```

## 2. std::pair<key, value>

`pair<first_type, second_type>`

- ë‘ ë°ì´í„°ë¥¼ í•œ ë‹¨ìœ„ë¡œ ì €ì¥í•˜ëŠ” êµ¬ì¡°

```cpp
std::pair<std::string, int> student1("Coco", 10);
simpleScoreMap.insert(std::pair<std::string, int>("Mocha", 100));
```

pair.first í˜¹ì€ pair.second ë¡œ í‚¤ë‚˜ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ.  

## 3. insert()

- ìƒˆ ìš”ì†Œë¥¼ mapì— ì‚½ì…í•œë‹¤
- ë°˜ë³µìì™€ bool ê°’ì„ í•œ ìŒìœ¼ë¡œ ë°˜í™˜
  - ë°˜ë³µìëŠ” ìš”ì†Œë¥¼ ê°€ë¦¬í‚¤ê³ 
  - Bool ê°’ì€ ì‚½ì… ê²°ê³¼ë¥¼ ì•Œë ¤ì¤Œ
- <b>í‚¤ë¥¼ ì¤‘ë³µìœ¼ë¡œ ì‚½ì…í•  ìˆ˜ ì—†ìŒ</b>

```cpp
// <iteerator, true> ë°˜í™˜
simpleScoreMap.insert(std::pair<std::string, int>("Mocha", 100));

// <iterator, flase> ë°˜í™˜
simpleScoreMap.insert(std::pair<std::string, int>("Mocha", 0));
```

## 4. operator[]

- keyì— ëŒ€ì‘í•˜ëŠ” ê°’ì„ ì°¸ì¡°ë¡œ ë°˜í™˜
- mapì— í‚¤ê°€ ì—†ìœ¼ë©´ ìƒˆ ìš”ì†Œë¥¼ ì‚½ì…
- mapì— í‚¤ê°€ ì´ë¯¸ ìˆìœ¼ë©´ ê·¸ ê°’ì„ <b>ë®ì–´ì”€</b>

```cpp
std::map<std::string, int> simpleScoreMap;

simpleScoreMap["Coco"] = 10;                // ìƒˆ ìš”ì†Œ ì‚½ì…
simpleScoreMap["Coco"] = 50;                // "Coco"ì˜ ê°’ì„ ë®ì–´ì“´ë‹¤
```

## 5. ìš”ì†Œ ì°¾ê¸°, ë‘ ë§µ êµí™˜, ë§µ ë¹„ìš°ê¸°, ìš”ì†Œ ì œê±°, ë‘ í‚¤ë¥¼ ë¹„êµí•˜ëŠ” í•¨ìˆ˜

### 5-1. ìš”ì†Œ ì°¾ê¸°

```cpp
#include <map>
int main()
{
    std::map<std::string, int> simpleScoreMap;
    simpleScoreMap.insert(std::pair<std::string, int>("Mocha", 100));

    std::map<std::string, int>::iterator it = simpleScoreMap.find("Mocha");     // í‚¤ë¥¼ ì°¾ì•„ë¼
    if (it != simpleScoreMap.end())             // ê·¸ ìœ„ì¹˜ì˜ ë°˜ë³µìë¥¼ ë°˜í™˜
    {                                           // ëª»ì°¾ëŠ” ê²½ìš° ìš”ì†Œë¥¼ ê°€ë¦¬í‚¤ì§€ ì•ŠëŠ” ë°˜ë³µìì¸ end() ë°˜í™˜
        it->second = 80;
    }

    return 0;
}
```

- mapì—ì„œ keyë¥¼ ì°¾ìœ¼ë©´ ê·¸ì— ëŒ€ì‘í•˜ëŠ” ê°’ì„ ê°€ë¦¬í‚¤ëŠ” ë°˜ë³µì
- ëª»ì°¾ìœ¼ë©´ end() ë°˜í™˜
  - end()ëŠ” ìš”ì†Œë¥¼ ê°€ë¦¬í‚¤ëŠ” ë°˜ë³µìê°€ ì•„ë‹˜.. ë§ˆì§€ë§‰ ìš”ì†Œì˜ ê·¸ ë‹¤ìŒ ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚´.

### 5-2. ë‘ ë§µ êµí™˜, ë§µ ë¹„ìš°ê¸°

- swap
  - `void swap(map& other);`
  - ë‘ mapì˜ í‚¤ì™€ ê°’ì„ ì„œë¡œ ë°”ê¾¼ë‹¤
- clear
  - `void clear();`
  - mapì„ ë¹„ìš´ë‹¤

### 5-3. ìš”ì†Œ ì œê±°

- erase
  - mapì˜ ìš”ì†Œë“¤ì„ ì œê±°í•œë‹¤
  ```cpp
  std::map<std::string, int>::iterator foundIt = simpleScoreMap.find("Coco");
  simpleScoreMap.erase(foundIt);

  simpleScoreMap.erase("Coco");     // ë˜ë‹¤ë¥¸ ë°©ì‹ (í‚¤ë¡œ ì°¾ì•„ì„œ ì œê±°)
  ```

### 5-4. ë¹„êµ â­â­â­

```cpp
// StudentInfo.h
class StudentInfo
{
    public:
        // ìƒì„±ìë“¤
    private:
        std::string mName;
        std::string mStudentID;
};

// Main.cpp
int main()
{
    std::map<StudentInfo, int> scores;
    scores.insert(std::pair<StudentInfo, int>(StudentInfo("Poppy", "a556"), 30));
    scores.insert(std::pair<StudentInfo, int>(StudentInfo("Lulu", "a112"), 70));
}

// ìœ„ ì½”ë“œëŠ” 'ë¹„êµí•˜ëŠ” ì—°ì‚°ìê°€ ì—†ë‹¤~' ì‹ì˜ ì—ëŸ¬ê°€ ë‚œë‹¤.
// ë‚˜ ì •ë ¬í•˜ëŠ” ë°©ë²• ëª¨ë¥´ë‹ˆê¹Œ ì‚½ì…ë„ ëª»í•´ ã…‡ã……ã…‡ ë‚˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì •ë ¬ì´ ë˜ëŠ” mapì´ì•¼
```

> ğŸ’¡ mapì€ ìë™ ì •ë ¬ ë˜ëŠ” ì»¨í…Œì´ë„ˆ.
> ê·¸ë˜ì„œ ë°˜ë“œì‹œ ë‘ í‚¤ë¥¼ ë¹„êµí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•¨!

```cpp
bool StudentInfo::operator<(const StudentInfo& other) const
{
    if (mName == other.mName)
    {
        return mStudentID < other.mStudentID;
    }

    return mName < other.mName;
}
```

#### ìš”ì†Œë“¤ì„ ì •ë ¬í•˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²• â­â­â­

- mapì„ ë§Œë“¤ ë•Œ ë¹„êµí•¨ìˆ˜(comparer)ë¥¼ ë„£ì„ ìˆ˜ë„ ìˆìŒ
- ë‚¨ì´ ë§Œë“¤ì–´ë†“ì„ êµ¬ì¡°ì²´ì— í•¨ë¶€ë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ì„ ë• ì´ë ‡ê²Œ ì‘ì„±í•˜ì

```cpp
struct StudentInfoComparer
{
    bool operator()(const StudentInfo& left, const StudentInfo& right) const
    {
        return (left.getName() < right.getName());
    }
};

// Main.cpp
std::map<StudentInfo, int, StudentInfoComparer> Scores;
```

### 5-5. map ì˜ ì¥ì ê³¼ ë‹¨ì 

- ì¥ì 
  - std::Listë‚˜ std::vectorë³´ë‹¤ íƒìƒ‰ ì†ë„ê°€ ë” ë¹ ë¦„
    - ì°¾ê³ ì í•˜ëŠ” í‚¤ê°€ ì¡´ì¬í•˜ê³ , ì´ì§„ íŠ¸ë¦¬ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë‹ˆ O(log N)ìœ¼ë¡œ ì¤„ì–´ë“œë‹ˆ O(N)ë³´ë‹¤ ë¹ ë¦„
- ë‹¨ì 
  - ìë™ìœ¼ë¡œ ì •ë ¬ë¨
  - í•´ì‰¬ë§µ(hashmap)ì´ ì•„ë‹˜. í•´ì‹œë§µì€ O(1)ë¼ì„œ í›¨ì”¬ ë¹ ë¦„.
  - C++11ì— í•´ê²°ì±…ì´ ìˆìŒ

## 6. ì…‹ (Set)

- ì—­ì‹œ ì •ë ¬ë˜ëŠ” ì»¨í…Œì´ë„ˆ
  - ì…‹ì€ ë§µê³¼ ê±°ì˜ ê°™ë‹¤
- ì¤‘ë³µë˜ì§€ ì•ŠëŠ” í‚¤ë¥¼ ìš”ì†Œë¡œ ì €ì¥
  - ë§µì—ì„œ ê°’ì„ ë¹¼ë²„ë¦° ê²ƒê³¼ ê°™ìŒ
- ì—­ì‹œ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ ê¸°ë°˜
  - ì˜¤ë¦„ì°¨ìˆœ

```cpp
#include <set>
int main()
{
    std::set<int> scores;
    scores.insert(20);
    scores.insert(100);

    for (std::set<int>::iterator it = scores.begin(); it != scores.end(); ++it)
    {
        std::cout << *it << std::endl;
    }

    return 0;
}
```